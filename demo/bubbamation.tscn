[gd_scene load_steps=40 format=3 uid="uid://muqk86y3im73"]

[ext_resource type="Material" uid="uid://cqxcoj786ejow" path="res://demo/brush_material_bubbamation.tres" id="1_hoifs"]
[ext_resource type="Script" path="res://addons/goolash/brush2d.gd" id="1_s1pru"]
[ext_resource type="Script" path="res://addons/goolash/brush_stroke_data.gd" id="2_384sy"]
[ext_resource type="Script" path="res://addons/goolash/brush_clip2d.gd" id="5_x714a"]
[ext_resource type="Script" path="res://addons/goolash/brush_layer2d.gd" id="6_47kuj"]
[ext_resource type="Texture2D" uid="uid://b67qx0l61s731" path="res://demo/bubbamation/bayer16tile2.png" id="7_3dk3b"]
[ext_resource type="Script" path="res://addons/goolash/brush_keyframe2d.gd" id="7_q42yy"]

[sub_resource type="Shader" id="Shader_pp8rk"]
code = "shader_type canvas_item;
render_mode blend_mix;

uniform sampler2D dither_texture : repeat_enable, filter_nearest;
uniform sampler2D screen_texture : hint_screen_texture, repeat_disable, filter_nearest;

vec3 rgb2hsv(vec3 rgb) {
	vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
	vec4 p = mix(vec4(rgb.bg, K.wz), vec4(rgb.gb, K.xy), step(rgb.b, rgb.g));
	vec4 q = mix(vec4(p.xyw, rgb.r), vec4(rgb.r, p.yzx), step(p.x, rgb.r));
	
	float d = q.x - min(q.w, q.y);
	float e = 1.0e-10;
	return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
}
vec3 hsv2rgb(vec3 hsv) {
	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
	vec3 p = abs(fract(hsv.xxx + K.xyz) * 6.0 - K.www);
	return hsv.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), hsv.y);
}

void fragment() {
	float dither = texture(dither_texture, SCREEN_UV / SCREEN_PIXEL_SIZE / 4.0).r;
	
	vec3 rgb = texture(screen_texture, SCREEN_UV).rgb;
	vec3 hsv = rgb2hsv(rgb);
	
	//float dither_s = clamp(floor((hsv.y * 2.0 + dither - 1.0) * 4.0) / 4.0, 0.0, 1.0);
	//float b = (hsv.z + (1.0 - hsv.y)) * 0.5;
	//float b = mix(hsv.z, 1.0 - hsv.y, smoothstep(0.4, 0.6, hsv.y));
	
	float white_value = (1.0 - hsv.y) * hsv.z;
	float black_value = 1.0 - hsv.z;
	
	if (white_value > black_value) {
		black_value = 0.0;
	} else {
		white_value = 0.0;
	}
	
	float dither_white = smoothstep(white_value+0.001, white_value, dither);
	float dither_black = smoothstep(black_value+0.001, black_value, dither);
	
	vec3 color = hsv2rgb(vec3(floor(hsv.x * 16.0) / 16.0, 1.0, 1.0));
	
	color = mix(color, vec3(1.0), dither_white);
	color = mix(color, vec3(0.0), dither_black);
	
	COLOR.rgb = color;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l3gdj"]
shader = SubResource("Shader_pp8rk")
shader_parameter/dither_texture = ExtResource("7_3dk3b")

[sub_resource type="Shader" id="Shader_ld2mw"]
code = "shader_type canvas_item;
render_mode blend_mix;

vec3 hsv2rgb(vec3 hsv) {
	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
	vec3 p = abs(fract(hsv.xxx + K.xyz) * 6.0 - K.www);
	return hsv.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), hsv.y);
}

void fragment() {
	vec3 col = hsv2rgb(vec3(UV.x, UV.y, sin(TIME * 2.0) * 0.5 + 0.5));
	COLOR.rgb = col;
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_e03kr"]
shader = SubResource("Shader_ld2mw")

[sub_resource type="Curve2D" id="Curve2D_7pj2w"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 174.046, 113.857, 0, 0, 0, 0, 176.091, 115.535, 0, 0, 0, 0, 176.429, 120.105, 0, 0, 0, 0, 173.623, 122.911, 0, 0, 0, 0, 170.695, 119.617, 0, 0, 0, 0, 170.906, 115.535, 0, 0, 0, 0, 173.498, 113.803)
}
point_count = 7

[sub_resource type="Resource" id="Resource_jwc1x"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(174.046, 113.857, 176.091, 115.535, 176.429, 120.105, 173.623, 122.911, 170.695, 119.617, 170.906, 115.535, 173.498, 113.803)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_7pj2w")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_n6ws4"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 156.417, 112.938, 0, 0, 0, 0, 154.467, 117.322, 0, 0, 0, 0, 153.87, 126.146, 0, 0, 0, 0, 146.211, 126.05, 0, 0, 0, 0, 142.781, 122.03, 0, 0, 0, 0, 145.887, 114.77, 0, 0, 0, 0, 150.352, 111.957)
}
point_count = 7

[sub_resource type="Curve2D" id="Curve2D_wths5"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 196.46, 106.514, 0, 0, 0, 0, 196.201, 109.444, 0, 0, 0, 0, 198.382, 112.138, 0, 0, 0, 0, 195.811, 112.402, 0, 0, 0, 0, 192.999, 109.272, 0, 0, 0, 0, 190.196, 112.215, 0, 0, 0, 0, 190.936, 114.512, 0, 0, 0, 0, 184.757, 122.578, 0, 0, 0, 0, 188.25, 124.737, 0, 0, 0, 0, 192.932, 119.694, 0, 0, 0, 0, 197.946, 117.052, 0, 0, 0, 0, 209.992, 116.502, 0, 0, 0, 0, 215.004, 123.015, 0, 0, 0, 0, 212.863, 127.785, 0, 0, 0, 0, 202.848, 131.716, 0, 0, 0, 0, 188.446, 129.078, 0, 0, 0, 0, 187.436, 130.019, 0, 0, 0, 0, 182.461, 126.054, 0, 0, 0, 0, 168.132, 128.309, 0, 0, 0, 0, 163.833, 131.941, 0, 0, 0, 0, 163.644, 135.77, 0, 0, 0, 0, 159.948, 132.806, 0, 0, 0, 0, 159.855, 118.854, 0, 0, 0, 0, 163.369, 111.686, 0, 0, 0, 0, 181.878, 110.908, 0, 0, 0, 0, 198.2, 105.42)
}
point_count = 26

[sub_resource type="Curve2D" id="Curve2D_2sobx"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 180.382, 131.667, 0, 0, 0, 0, 180.007, 131.63)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_qw6jk"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 169.33, 135.978, 0, 0, 0, 0, 169.34, 135.224)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_p2ab1"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 199.383, 89.763, 0, 0, 0, 0, 209.615, 92.7668, 0, 0, 0, 0, 189.857, 102.974, 0, 0, 0, 0, 174.592, 106.114, 0, 0, 0, 0, 163.505, 105.685, 0, 0, 0, 0, 170.435, 95.2729, 0, 0, 0, 0, 178.858, 90.4598, 0, 0, 0, 0, 199.381, 89.7628)
}
point_count = 8

[sub_resource type="Curve2D" id="Curve2D_yynn0"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 160.098, 97.8104, 0, 0, 0, 0, 158.613, 103.519, 0, 0, 0, 0, 154.756, 97.9918, 0, 0, 0, 0, 154.262, 89.7082, 0, 0, 0, 0, 156.258, 84.7272, 0, 0, 0, 0, 161.455, 78.4885, 0, 0, 0, 0, 173.758, 74.2562, 0, 0, 0, 0, 184.501, 72.5864, 0, 0, 0, 0, 187.538, 77.4247, 0, 0, 0, 0, 188.889, 83.9827, 0, 0, 0, 0, 181.708, 84.258, 0, 0, 0, 0, 171.892, 87.4546, 0, 0, 0, 0, 166.434, 92.2468)
}
point_count = 13

[sub_resource type="Curve2D" id="Curve2D_7insh"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 185.894, 66.9135, 0, 0, 0, 0, 190.654, 70.6564, 0, 0, 0, 0, 192.218, 73.9305, 0, 0, 0, 0, 193.687, 83.951, 0, 0, 0, 0, 200.413, 84.2568, 0, 0, 0, 0, 212.679, 87.8527, 0, 0, 0, 0, 215.972, 90.3941, 0, 0, 0, 0, 216.231, 93.3802, 0, 0, 0, 0, 212.372, 97.8179, 0, 0, 0, 0, 201.633, 104.265, 0, 0, 0, 0, 200.005, 104.813, 0, 0, 0, 0, 205.363, 111.423, 0, 0, 0, 0, 210.375, 110.909, 0, 0, 0, 0, 210.443, 110.916, 0, 0, 0, 0, 216.325, 114.514, 0, 0, 0, 0, 220.462, 121.737, 0, 0, 0, 0, 219.501, 128.746, 0, 0, 0, 0, 216.517, 132.033, 0, 0, 0, 0, 206.418, 136.199, 0, 0, 0, 0, 206.732, 136.399, 0, 0, 0, 0, 206.472, 139.922, 0, 0, 0, 0, 201.668, 144.068, 0, 0, 0, 0, 196.715, 145.327, 0, 0, 0, 0, 188.139, 141.36, 0, 0, 0, 0, 187.566, 142.859, 0, 0, 0, 0, 178.142, 144.433, 0, 0, 0, 0, 169.23, 143.804, 0, 0, 0, 0, 161.57, 141.271, 0, 0, 0, 0, 156.767, 137.177, 0, 0, 0, 0, 156.667, 138.226, 0, 0, 0, 0, 153.161, 140.957, 0, 0, 0, 0, 147.679, 140.891, 0, 0, 0, 0, 143.575, 136.91, 0, 0, 0, 0, 144.256, 130.896, 0, 0, 0, 0, 138.523, 126.319, 0, 0, 0, 0, 137.224, 123.246, 0, 0, 0, 0, 137.768, 117.526, 0, 0, 0, 0, 142.127, 110.577, 0, 0, 0, 0, 148.081, 106.822, 0, 0, 0, 0, 152.333, 106.027, 0, 0, 0, 0, 152.881, 106.081, 0, 0, 0, 0, 154.361, 106.544, 0, 0, 0, 0, 148.684, 97.0962, 0, 0, 0, 0, 148.731, 88.5805, 0, 0, 0, 0, 153.741, 78.3869, 0, 0, 0, 0, 160.651, 72.4092, 0, 0, 0, 0, 173.195, 69.6537, 0, 0, 0, 0, 185.739, 66.8983)
}
point_count = 48

[sub_resource type="Resource" id="Resource_vgmhj"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(185.894, 66.9135, 190.654, 70.6564, 192.218, 73.9305, 193.687, 83.951, 200.413, 84.2568, 212.679, 87.8527, 215.972, 90.3941, 216.231, 93.3802, 212.372, 97.8179, 201.633, 104.265, 200.005, 104.813, 205.363, 111.423, 210.375, 110.909, 210.443, 110.916, 216.325, 114.514, 220.462, 121.737, 219.501, 128.746, 216.517, 132.033, 206.418, 136.199, 206.732, 136.399, 206.472, 139.922, 201.668, 144.068, 196.715, 145.327, 188.139, 141.36, 187.566, 142.859, 178.142, 144.433, 169.23, 143.804, 161.57, 141.271, 156.767, 137.177, 156.667, 138.226, 153.161, 140.957, 147.679, 140.891, 143.575, 136.91, 144.256, 130.896, 138.523, 126.319, 137.224, 123.246, 137.768, 117.526, 142.127, 110.577, 148.081, 106.822, 152.333, 106.027, 152.881, 106.081, 154.361, 106.544, 148.684, 97.0962, 148.731, 88.5805, 153.741, 78.3869, 160.651, 72.4092, 173.195, 69.6537, 185.739, 66.8983)
holes = Array[PackedVector2Array]([PackedVector2Array(156.417, 112.938, 154.467, 117.322, 153.87, 126.146, 146.211, 126.05, 142.781, 122.03, 145.887, 114.77, 150.352, 111.957), PackedVector2Array(196.46, 106.514, 196.201, 109.444, 198.382, 112.138, 195.811, 112.402, 193.205, 109.293, 192.999, 109.272, 190.196, 112.215, 190.936, 114.512, 189.09, 115.589, 184.757, 122.578, 188.25, 124.737, 192.932, 119.694, 197.946, 117.052, 209.992, 116.502, 215.004, 123.015, 212.863, 127.785, 202.848, 131.716, 188.446, 129.078, 187.436, 130.019, 182.56, 126.064, 182.461, 126.054, 168.132, 128.309, 163.833, 131.941, 163.644, 135.77, 159.948, 132.806, 159.855, 118.854, 163.369, 111.686, 181.878, 110.908, 198.2, 105.42), PackedVector2Array(180.382, 131.667, 180.779, 131.963, 179.16, 131.769, 180.007, 131.63), PackedVector2Array(169.33, 135.978, 168.632, 136.036, 169.34, 135.224), PackedVector2Array(199.383, 89.763, 209.613, 92.7534, 209.615, 92.7668, 199.735, 97.8764, 196.181, 99.7142, 196.18, 99.7147, 196.153, 99.7179, 189.857, 102.974, 174.592, 106.114, 163.505, 105.685, 164.317, 104.681, 164.18, 103.282, 170.435, 95.2729, 172.955, 93.836, 172.957, 93.8261, 172.959, 93.8222, 178.858, 90.4598, 178.86, 90.4592, 189.121, 90.111, 199.381, 89.7628), PackedVector2Array(160.098, 97.8104, 159.228, 102.982, 158.613, 103.519, 154.756, 97.9918, 154.262, 89.7082, 156.258, 84.7272, 159.386, 80.9811, 159.383, 80.975, 159.383, 80.9688, 161.455, 78.4885, 161.457, 78.4869, 173.758, 74.2562, 173.759, 74.256, 184.495, 72.584, 184.501, 72.5864, 187.538, 77.423, 187.538, 77.4247, 188.895, 83.9754, 188.889, 83.9827, 181.708, 84.258, 173.57, 86.9169, 173.566, 86.9165, 173.555, 86.911, 171.892, 87.4546, 170.421, 88.746, 170.42, 88.7582, 170.418, 88.7617, 166.447, 92.2488, 166.441, 92.2498, 166.434, 92.2468)])
polygon_curve = SubResource("Curve2D_7insh")
hole_curves = Array[Curve2D]([SubResource("Curve2D_n6ws4"), SubResource("Curve2D_wths5"), SubResource("Curve2D_2sobx"), SubResource("Curve2D_qw6jk"), SubResource("Curve2D_p2ab1"), SubResource("Curve2D_yynn0")])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_b7ga2"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 172.483, 97.2939, 0, 0, 0, 0, 172.485, 97.2985, 0, 0, 0, 0, 175.189, 99.7898, 0, 0, 0, 0, 175.191, 99.791, 0, 0, 0, 0, 181.462, 101.427, 0, 0, 0, 0, 181.464, 101.427, 0, 0, 0, 0, 195.239, 99.8241, 0, 0, 0, 0, 196.153, 99.7179, 0, 0, 0, 0, 189.857, 102.974, 0, 0, 0, 0, 174.592, 106.114, 0, 0, 0, 0, 163.505, 105.685, 0, 0, 0, 0, 164.317, 104.681, 0, 0, 0, 0, 164.18, 103.282, 0, 0, 0, 0, 170.435, 95.2729, 0, 0, 0, 0, 172.955, 93.836)
}
point_count = 15

[sub_resource type="Resource" id="Resource_2l575"]
script = ExtResource("2_384sy")
color = Color(1, 0, 0, 1)
polygon = PackedVector2Array(172.483, 97.2939, 172.485, 97.2985, 175.189, 99.7898, 175.191, 99.791, 181.462, 101.427, 181.464, 101.427, 195.239, 99.8241, 196.153, 99.7179, 189.857, 102.974, 174.592, 106.114, 163.505, 105.685, 164.317, 104.681, 164.18, 103.282, 170.435, 95.2729, 172.955, 93.836)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_b7ga2")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_vcpfj"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 165.364, 91.807, 0, 0, 0, 0, 165.366, 91.8093, 0, 0, 0, 0, 166.434, 92.2468, 0, 0, 0, 0, 160.098, 97.8104, 0, 0, 0, 0, 159.228, 102.982, 0, 0, 0, 0, 158.613, 103.519, 0, 0, 0, 0, 154.756, 97.9918, 0, 0, 0, 0, 154.262, 89.7082, 0, 0, 0, 0, 156.258, 84.7272, 0, 0, 0, 0, 159.386, 80.9811)
}
point_count = 10

[sub_resource type="Resource" id="Resource_yln07"]
script = ExtResource("2_384sy")
color = Color(1, 0, 0, 1)
polygon = PackedVector2Array(165.364, 91.807, 165.366, 91.8093, 166.434, 92.2468, 160.098, 97.8104, 159.228, 102.982, 158.613, 103.519, 154.756, 97.9918, 154.262, 89.7082, 156.258, 84.7272, 159.386, 80.9811)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_vcpfj")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_wc3tc"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 199.383, 89.763, 0, 0, 0, 0, 209.613, 92.7534, 0, 0, 0, 0, 209.615, 92.7668, 0, 0, 0, 0, 199.735, 97.8764, 0, 0, 0, 0, 196.181, 99.7142, 0, 0, 0, 0, 196.18, 99.7147, 0, 0, 0, 0, 195.239, 99.8241, 0, 0, 0, 0, 181.464, 101.427, 0, 0, 0, 0, 181.462, 101.427, 0, 0, 0, 0, 175.191, 99.791, 0, 0, 0, 0, 175.189, 99.7898, 0, 0, 0, 0, 172.485, 97.2985, 0, 0, 0, 0, 172.483, 97.2939, 0, 0, 0, 0, 172.957, 93.8261, 0, 0, 0, 0, 172.959, 93.8222, 0, 0, 0, 0, 178.858, 90.4598, 0, 0, 0, 0, 178.86, 90.4592, 0, 0, 0, 0, 189.121, 90.111, 0, 0, 0, 0, 199.381, 89.7628)
}
point_count = 19

[sub_resource type="Resource" id="Resource_gs7t5"]
script = ExtResource("2_384sy")
color = Color(1, 0.477273, 0.477273, 1)
polygon = PackedVector2Array(199.383, 89.763, 209.613, 92.7534, 209.615, 92.7668, 199.735, 97.8764, 196.181, 99.7142, 196.18, 99.7147, 195.239, 99.8241, 181.464, 101.427, 181.462, 101.427, 175.191, 99.791, 175.189, 99.7898, 172.485, 97.2985, 172.483, 97.2939, 172.957, 93.8261, 172.959, 93.8222, 178.858, 90.4598, 178.86, 90.4592, 189.121, 90.111, 199.381, 89.7628)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_wc3tc")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_vr5iq"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 184.501, 72.5864, 0, 0, 0, 0, 187.538, 77.423, 0, 0, 0, 0, 187.538, 77.4247, 0, 0, 0, 0, 188.895, 83.9754, 0, 0, 0, 0, 188.889, 83.9827, 0, 0, 0, 0, 181.708, 84.258, 0, 0, 0, 0, 173.57, 86.9169, 0, 0, 0, 0, 173.566, 86.9165, 0, 0, 0, 0, 170.689, 85.3673, 0, 0, 0, 0, 170.42, 88.7582, 0, 0, 0, 0, 170.418, 88.7617, 0, 0, 0, 0, 166.447, 92.2488, 0, 0, 0, 0, 166.441, 92.2498, 0, 0, 0, 0, 165.366, 91.8093, 0, 0, 0, 0, 165.364, 91.807, 0, 0, 0, 0, 159.383, 80.975, 0, 0, 0, 0, 159.383, 80.9688, 0, 0, 0, 0, 161.455, 78.4885, 0, 0, 0, 0, 161.457, 78.4869, 0, 0, 0, 0, 173.758, 74.2562, 0, 0, 0, 0, 173.759, 74.256, 0, 0, 0, 0, 184.495, 72.584)
}
point_count = 22

[sub_resource type="Resource" id="Resource_a8yab"]
script = ExtResource("2_384sy")
color = Color(1, 0.477273, 0.477273, 1)
polygon = PackedVector2Array(184.501, 72.5864, 187.538, 77.423, 187.538, 77.4247, 188.895, 83.9754, 188.889, 83.9827, 181.708, 84.258, 173.57, 86.9169, 173.566, 86.9165, 170.689, 85.3673, 170.42, 88.7582, 170.418, 88.7617, 166.447, 92.2488, 166.441, 92.2498, 165.366, 91.8093, 165.364, 91.807, 159.383, 80.975, 159.383, 80.9688, 161.455, 78.4885, 161.457, 78.4869, 173.758, 74.2562, 173.759, 74.256, 184.495, 72.584)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_vr5iq")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_lrjqf"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 78.2592, 68.5928, 0, 0, 0, 0, 78.2592, 70.3335, 0, 0, 0, 0, 78.8062, 71, 0, 0, 0, 0, 78.2592, 71.5469, 0, 0, 0, 0, 78.2592, 71.7405, 0, 0, 0, 0, 75.4072, 74.5926, 0, 0, 0, 0, 72.1192, 74.7522, 0, 0, 0, 0, 70.0741, 73.0739, 0, 0, 0, 0, 72.0158, 67.349, 0, 0, 0, 0, 72.151, 67.2381, 0, 0, 0, 0, 75.8809, 66.5811)
}
point_count = 11

[sub_resource type="Resource" id="Resource_1p5mm"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(78.2592, 68.5928, 78.2592, 70.3335, 78.8062, 71, 78.2592, 71.5469, 78.2592, 71.7405, 75.4072, 74.5926, 72.1192, 74.7522, 70.0741, 73.0739, 72.0158, 67.349, 72.151, 67.2381, 75.8809, 66.5811)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_lrjqf")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_23q5d"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 60.8809, 71.9144, 0, 0, 0, 0, 63.2592, 73.9261, 0, 0, 0, 0, 63.3405, 75.43, 0, 0, 0, 0, 63.4189, 75.5474, 0, 0, 0, 0, 63.3492, 75.5919, 0, 0, 0, 0, 63.4189, 76.8808, 0, 0, 0, 0, 61.8924, 79.6665, 0, 0, 0, 0, 58.4526, 80.0856, 0, 0, 0, 0, 56.0741, 78.0739, 0, 0, 0, 0, 55.9144, 75.1192, 0, 0, 0, 0, 57.441, 72.3334, 0, 0, 0, 0, 60.3334, 71.8605)
}
point_count = 12

[sub_resource type="Resource" id="Resource_0du5l"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(60.8809, 71.9144, 63.2592, 73.9261, 63.3405, 75.43, 63.4189, 75.5474, 63.3492, 75.5919, 63.4189, 76.8808, 61.8924, 79.6665, 58.4526, 80.0856, 56.0741, 78.0739, 55.9144, 75.1192, 57.441, 72.3334, 60.3334, 71.8605)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_23q5d")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_0wj8i"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 77.5474, 76.5811, 0, 0, 0, 0, 79.8062, 79.3333, 0, 0, 0, 0, 77.4072, 82.2592, 0, 0, 0, 0, 68.3333, 83.8062, 0, 0, 0, 0, 65.7408, 82.0739, 0, 0, 0, 0, 67.2595, 78.4074, 0, 0, 0, 0, 77, 76.5272)
}
point_count = 7

[sub_resource type="Resource" id="Resource_6ox4w"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(77.5474, 76.5811, 79.8062, 79.3333, 77.4072, 82.2592, 68.3333, 83.8062, 65.7408, 82.0739, 67.2595, 78.4074, 77, 76.5272)
holes = Array[PackedVector2Array]([])
polygon_curve = SubResource("Curve2D_0wj8i")
hole_curves = Array[Curve2D]([])
_curves_dirty = false

[sub_resource type="Curve2D" id="Curve2D_wbiol"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 66.1128, 93.403, 0, 0, 0, 0, 80.7367, 93.6282, 0, 0, 0, 0, 82.3027, 98.921, 0, 0, 0, 0, 80.3378, 100.446, 0, 0, 0, 0, 82.8606, 105.578, 0, 0, 0, 0, 82.5395, 109.019, 0, 0, 0, 0, 76.3546, 114.543, 0, 0, 0, 0, 64.784, 113.746, 0, 0, 0, 0, 61.185, 111.227, 0, 0, 0, 0, 59.797, 108.845, 0, 0, 0, 0, 60.0499, 93.3096)
}
point_count = 11

[sub_resource type="Curve2D" id="Curve2D_qqdx4"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 75.4049, 56.1351, 0, 0, 0, 0, 76.3379, 64.5541, 0, 0, 0, 0, 79.1757, 67.7578, 0, 0, 0, 0, 82.4546, 65.4338, 0, 0, 0, 0, 87.2053, 81.8531, 0, 0, 0, 0, 80.7042, 88.3638, 0, 0, 0, 0, 51.1206, 87.5391, 0, 0, 0, 0, 53.7892, 61.901, 0, 0, 0, 0, 59.3523, 57.8321, 0, 0, 0, 0, 69.0085, 55.7826)
}
point_count = 10

[sub_resource type="Curve2D" id="Curve2D_mlpsl"]
bake_interval = 20.0
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 86.6752, 60.4354, 0, 0, 0, 0, 88.1014, 64.5001, 0, 0, 0, 0, 88.1015, 64.503, 0, 0, 0, 0, 88.0976, 64.5196, 0, 0, 0, 0, 92.7522, 77.7859, 0, 0, 0, 0, 92.7991, 82.8656, 0, 0, 0, 0, 85.3757, 91.2408, 0, 0, 0, 0, 86.9581, 93.3409, 0, 0, 0, 0, 88.7967, 101.437, 0, 0, 0, 0, 88.6177, 103.647, 0, 0, 0, 0, 97.588, 112.329, 0, 0, 0, 0, 97.0039, 116.255, 0, 0, 0, 0, 91.7812, 115.078, 0, 0, 0, 0, 87.7609, 110.797, 0, 0, 0, 0, 85.9863, 113.982, 0, 0, 0, 0, 81.5741, 117.07, 0, 0, 0, 0, 82.8062, 118.333, 0, 0, 0, 0, 80.3836, 127.979, 0, 0, 0, 0, 80.6511, 138.718, 0, 0, 0, 0, 86.7173, 139.258, 0, 0, 0, 0, 92.3156, 135.549, 0, 0, 0, 0, 95.3288, 137.446, 0, 0, 0, 0, 93.9843, 141.318, 0, 0, 0, 0, 88.2645, 144.647, 0, 0, 0, 0, 79.9261, 144.926, 0, 0, 0, 0, 76.1165, 142.054, 0, 0, 0, 0, 74.3378, 137.887, 0, 0, 0, 0, 76.1701, 120.055, 0, 0, 0, 0, 64.6545, 119.192, 0, 0, 0, 0, 64.8062, 120.333, 0, 0, 0, 0, 60.5521, 136.078, 0, 0, 0, 0, 52.5715, 139.471, 0, 0, 0, 0, 40.7859, 139.419, 0, 0, 0, 0, 36.6824, 136.984, 0, 0, 0, 0, 36.073, 133.929, 0, 0, 0, 0, 38.1192, 132.248, 0, 0, 0, 0, 49.7454, 133.901, 0, 0, 0, 0, 56.5142, 132.04, 0, 0, 0, 0, 58.9557, 123.277, 0, 0, 0, 0, 59.0222, 116.341, 0, 0, 0, 0, 57.0137, 114.982, 0, 0, 0, 0, 54.194, 109.299, 0, 0, 0, 0, 54.3889, 105.99, 0, 0, 0, 0, 49.7453, 113.768, 0, 0, 0, 0, 45.2256, 118.667, 0, 0, 0, 0, 41.1076, 119, 0, 0, 0, 0, 40.3334, 115.108, 0, 0, 0, 0, 45.1597, 110.556, 0, 0, 0, 0, 51.7832, 98.9462, 0, 0, 0, 0, 54.3333, 97.8605, 0, 0, 0, 0, 54.8645, 97.9128, 0, 0, 0, 0, 55.14, 93.234, 0, 0, 0, 0, 49, 93.1395, 0, 0, 0, 0, 46.4119, 91.6706, 0, 0, 0, 0, 45.5272, 81.3333, 0, 0, 0, 0, 47.2065, 65.4006, 0, 0, 0, 0, 49.0741, 53.2595, 0, 0, 0, 0, 51.6666, 51.5272, 0, 0, 0, 0, 52.2141, 51.5811, 0, 0, 0, 0, 53.2233, 53.2576, 0, 0, 0, 0, 53.2325, 53.258, 0, 0, 0, 0, 53.2368, 53.2606, 0, 0, 0, 0, 53.9268, 54.4068, 0, 0, 0, 0, 55.5928, 52.7408, 0, 0, 0, 0, 67.4526, 50.2477, 0, 0, 0, 0, 77.7405, 50.7408, 0, 0, 0, 0, 81.5926, 55.9261, 0, 0, 0, 0, 82.2808, 60.9864, 0, 0, 0, 0, 83.0842, 59.6903, 0, 0, 0, 0, 83.0825, 59.6761, 0, 0, 0, 0, 83.0833, 59.6728, 0, 0, 0, 0, 83.2528, 59.3993, 0, 0, 0, 0, 83.2591, 59.3969, 0, 0, 0, 0, 86.6718, 60.4321)
}
point_count = 74

[sub_resource type="Resource" id="Resource_2uq7y"]
script = ExtResource("2_384sy")
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(86.6752, 60.4354, 88.1014, 64.5001, 88.1015, 64.503, 88.0976, 64.5196, 92.7522, 77.7859, 92.7991, 82.8656, 85.3757, 91.2408, 86.9581, 93.3409, 88.7967, 101.437, 88.6177, 103.647, 97.588, 112.329, 97.0039, 116.255, 91.7812, 115.078, 87.7609, 110.797, 85.9863, 113.982, 81.5741, 117.07, 82.8062, 118.333, 80.3836, 127.979, 80.6511, 138.718, 86.7173, 139.258, 92.3156, 135.549, 95.3288, 137.446, 93.9843, 141.318, 88.2645, 144.647, 79.9261, 144.926, 76.1165, 142.054, 74.3378, 137.887, 76.1701, 120.055, 64.6545, 119.192, 64.8062, 120.333, 60.5521, 136.078, 52.5715, 139.471, 40.7859, 139.419, 36.6824, 136.984, 36.073, 133.929, 38.1192, 132.248, 49.7454, 133.901, 56.5142, 132.04, 58.9557, 123.277, 59.0222, 116.341, 57.0137, 114.982, 54.194, 109.299, 54.3889, 105.99, 49.7453, 113.768, 45.2256, 118.667, 41.1076, 119, 40.3334, 115.108, 45.1597, 110.556, 51.7832, 98.9462, 54.3333, 97.8605, 54.8645, 97.9128, 55.14, 93.234, 49, 93.1395, 46.4119, 91.6706, 45.5272, 81.3333, 47.2065, 65.4006, 49.0741, 53.2595, 51.6666, 51.5272, 52.2141, 51.5811, 53.2233, 53.2576, 53.2325, 53.258, 53.2368, 53.2606, 53.9268, 54.4068, 55.5928, 52.7408, 67.4526, 50.2477, 77.7405, 50.7408, 81.5926, 55.9261, 82.2808, 60.9864, 83.0842, 59.6903, 83.0825, 59.6761, 83.0833, 59.6728, 83.2528, 59.3993, 83.2591, 59.3969, 86.6718, 60.4321)
holes = Array[PackedVector2Array]([PackedVector2Array(66.1128, 93.403, 80.7367, 93.6282, 82.3027, 98.921, 80.3378, 100.446, 81.1165, 103.721, 82.8606, 105.578, 82.5395, 109.019, 76.3546, 114.543, 64.784, 113.746, 61.185, 111.227, 59.797, 108.845, 60.0499, 93.3096), PackedVector2Array(75.4049, 56.1351, 76.3379, 64.5541, 79.1757, 67.7578, 79.6665, 67.8062, 81.9843, 66.9843, 82.4546, 65.4338, 83.3045, 68.3778, 83.3086, 68.3816, 83.3165, 68.3831, 84.3679, 72.025, 87.2053, 81.8531, 80.7042, 88.3638, 65.9124, 87.9514, 51.1206, 87.5391, 52.7967, 71.4362, 53.7892, 61.901, 54.8924, 61.6666, 56.1367, 59.3386, 59.3523, 57.8321, 69.0085, 55.7826)])
polygon_curve = SubResource("Curve2D_mlpsl")
hole_curves = Array[Curve2D]([SubResource("Curve2D_wbiol"), SubResource("Curve2D_qqdx4")])
_curves_dirty = false

[node name="Bubbamation" type="Node2D"]

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(3, 3)

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(356, 192)
render_target_update_mode = 4

[node name="DitherCanvas" type="CanvasLayer" parent="SubViewportContainer/SubViewport"]

[node name="DitherShader" type="ColorRect" parent="SubViewportContainer/SubViewport/DitherCanvas"]
material = SubResource("ShaderMaterial_l3gdj")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="WhiteBackground" type="ColorRect" parent="SubViewportContainer/SubViewport"]
z_index = -1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorTest" type="ColorRect" parent="SubViewportContainer/SubViewport"]
visible = false
material = SubResource("ShaderMaterial_e03kr")
offset_right = 40.0
offset_bottom = 40.0

[node name="Brush2D" type="Node2D" parent="SubViewportContainer/SubViewport"]
show_behind_parent = true
material = ExtResource("1_hoifs")
script = ExtResource("1_s1pru")
stroke_data = [SubResource("Resource_jwc1x"), SubResource("Resource_vgmhj"), SubResource("Resource_2l575"), SubResource("Resource_yln07"), SubResource("Resource_gs7t5"), SubResource("Resource_a8yab")]
bounciness = 0.0

[node name="BrushClip2D" type="Node2D" parent="SubViewportContainer/SubViewport"]
material = ExtResource("1_hoifs")
script = ExtResource("5_x714a")
is_playing = true

[node name="Layer 1" type="Node2D" parent="SubViewportContainer/SubViewport/BrushClip2D"]
show_behind_parent = true
script = ExtResource("6_47kuj")
frame_count = 1

[node name="Frame 0" type="Node2D" parent="SubViewportContainer/SubViewport/BrushClip2D/Layer 1"]
show_behind_parent = true
script = ExtResource("7_q42yy")
stroke_data = [SubResource("Resource_1p5mm"), SubResource("Resource_0du5l"), SubResource("Resource_6ox4w"), SubResource("Resource_2uq7y")]
bounciness = 0.0
